<div ng-include="'/client/app/views/pages/navbar.html'"></div>
<div class="jumbotron">
    <div class="container">
        <div class="row profile">

            <div class="col-md-3" id="user-side-bar">
                <div class="profile-sidebar">
    
                    <div class="profile-userpic">
                      <img id="" src="{{getCurrentUser().imageUrl}}">
                    </div>
      
                    <div class="profile-usertitle">
                        <div class="profile-usertitle-name">
                          {{getCurrentUser().name}}
                        </div>

                        <div class="profile-usertitle-job">
                          Developer
                        </div>
                    </div>

                    <div class="profile-userbuttons">
                      <a href="/users/{{getCurrentUser()._id}}/lover">
                        <button type="button" class="btn btn-default btn-sm"
                        ng-show="user.name == currentUser.name"
                        ng-click="isFollowed(user,currentUser)">
                         Focus</button>
                      </a>

                      <a href="/users/{{getCurrentUser()._id}}/follow">
                        <button type="button"class="btn btn-default btn-sm">
                          <i class="glyphicon glyphicon-heart"></i> Fans </button>
                      </a>                    
                    </div>
                
                    <div class="profile-usermenu">
                      <ul class="nav">
                        <li><a href="/users/{{getCurrentUser()._id}}">
                          <i class="glyphicon glyphicon-home"></i> PERSONAL</a></li>         
                        <li><a href="/users/{{getCurrentUser()._id}}/messages" ><i class="glyphicon glyphicon-comment"></i> MESSAGE</a></li>
                       
                        <li class="active"><a href="/settings"><i class="glyphicon glyphicon-cog"></i> SETTINGS</a></li>
                      </ul>
                    </div>
                </div>
            </div>

            <div class="col-md-9" style="margin-top: 20px;">  
                <div class="panel panel-default" id="change-panel">
                    <div class="panel-heading" id="change-title">Change password 
                    </div>

                    <div class="panel-body">
                        <form class="form" name="form" ng-submit="changePassword(form)" novalidate>
                            <div class="form-group">
                                <label>Current Password</label>
                                <input type="password" name="password" class="form-control" ng-model="user.oldPassword"  mongoose-error/>
                                <p class="help-block" ng-show="form.password.$error.mongoose">
                                  {{ errors.other }}</p>
                            </div>

                            <div class="form-group">
                                <label>New Password</label>
                                <input type="password" name="newPassword" class="form-control" ng-model="user.newPassword"
                                       ng-minlength="3"
                                       required/>
                                <p class="help-block"
                                   ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">
                                  Password must be at least 3 characters.</p>
                            </div>
                            <p class="help-block"> {{ message }} </p>

                            <button class="btn btn-lg btn-default" type="submit">Save changes</button>
                       </form>           
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

